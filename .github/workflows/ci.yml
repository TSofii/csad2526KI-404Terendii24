name: Cross-Platform CMake CI

on:
push:
branches:
- '*develop*'
- '*master*'
pull_request:
branches:
- '*develop*'
- '*master*'

jobs:
cross_build:
runs-on: ${{ matrix.os }}
strategy:
matrix:
os: [ubuntu-latest, windows-latest, macos-latest]
steps:
- name: Checkout code
uses: actions/checkout@v4

- name: Run CI script (Linux/macOS)
if: runner.os != 'Windows'
run: |
chmod +x ci.sh
./ci.sh

- name: Run CI script (Windows)
if: runner.os == 'Windows'
run: .\ci.bat

- name: Deploy
run: echo "Deploy step goes here"
